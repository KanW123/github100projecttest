# Project-007 開発ログ

## 2026-01-27: 動画生成・技術検証セッション

### 実施内容

#### 1. 動画生成モデル比較検証

| モデル | エンドポイント | Start画像 | End画像 | 料金/秒 | 結果 |
|--------|---------------|-----------|---------|--------|------|
| **Kling 2.6 Pro** | `/kling-video/v2.6/pro/image-to-video` | `image_url` | `end_image_url` | $0.07 | 良好 |
| **Kling O1** | `/kling-video/o1/image-to-video` | `start_image_url` | `end_image_url` | $0.112 | 良好 |
| **Vidu Q1** | `/vidu/q1/start-end-to-video` | `start_image_url` | `end_image_url` | $0.10 | **最適** |

**結論**: この絵柄（スチームパンク九龍城）にはViduが最も相性が良い

#### 2. 動画生成の知見

- **Viduの注意点**: `/image-to-video`ではEnd画像非対応。`/start-end-to-video`を使う
- **Viduの制限**: 生魚画像がコンテンツポリシーでブロックされる場合あり
- **Kling O1の注意点**: `image_url`ではなく`start_image_url`を使用
- **プロンプトのコツ**:
  - 回転を入れる（`turning left/right`）と自然な移動に
  - `slowly walking at a relaxed pace`でゆっくり歩行
  - 同じ方向ばかり（右回りばかり等）だと違和感

#### 3. 生成した動画

**移動動画（7本）- Kling 2.6 Pro + R2オリジナル混合:**
- 廊下→バー（左回転）
- バー→廊下（振り返り）
- 廊下→階段下（R2オリジナル）
- 階段下→階段上（R2オリジナル）
- 階段上→廊下（R2オリジナル）
- 廊下→魚屋（右回転）
- 魚屋→廊下（振り返り）

**比較用Vidu動画:**
- 廊下→バー_vidu_v2.mp4
- バー→廊下_vidu_v2.mp4
- 階段上→廊下_vidu_v2.mp4

**比較用Kling O1動画:**
- 階段下→階段上_klingo1.mp4

#### 4. ローカル版ゲーム構築

```
project-007/game/
├── index.html
├── start_server.command  ← ダブルクリックで起動
├── css/
├── js/
│   └── game-data.js      ← ローカルパスに書き換え済み
├── scenarios/
└── assets/
    ├── images/  (5枚)
    └── videos/  (9本)
```

**起動方法**: `start_server.command`をダブルクリック → http://localhost:8007

#### 5. コスト試算

| 規模 | 場所数 | 動画本数 | Viduコスト（成功率80%） |
|------|--------|---------|----------------------|
| 現状 | 5箇所 | 9本 | $5.6 |
| ミニゲーム | 10箇所 | 19本 | $12 |
| 短編ADV | 20箇所 | 43本 | $27 |
| 中編ADV | 30箇所 | 67本 | $42 |

#### 6. 今後の方針

**プラットフォーム:**
- Web版で開発継続 → 素材増えたら技術検証
- Steam: Unity（全素材同梱）
- Mobile: Flutter（初期DL + 追加DL）

**動画生成モデル優先度（project-007）:**
1. Vidu Q1（ベース）
2. Kling 2.6 Pro（フォールバック）

**先読み戦略:**
- 移動動画再生中（5秒）に次エリアの素材をプリロード

---

#### 7. コンセプト議論

**問題提起**: 旧プロジェクト（ClaudeSteam2）のキャラクター名が「気取った感じ」「厨二感」で恥ずかしい

**具体例**:
- カセ屋ムギ → 職業をそのまま名前に
- 蓄音坊主 → 機能＋日本語で厨二感
- 時計仕掛けの〇〇 → 「俺の世界観を見ろ」感

**解決方針**:
- 香港・九龍城の住人らしい自然な名前に（阿強、老陳、肥仔）
- ビジュアル（Midjourneyプロンプト）とキャラ名は独立
- 見た目→名前の安直な変換を避ける

**決定事項**:
- キャラクターは名前だけでなく設定も全面リワーク
- コンセプトはASSETS.mdに記録済み

---

### 次のステップ

- [ ] キャラクターのリワーク（名前・設定）
- [ ] シナリオ拡張の議論
- [ ] 場所・NPC追加の計画
- [ ] Midjourney素材の追加生成

---

### 更新したドキュメント

- `VideoGenerator/VIDEO_GENERATION_GUIDE.md` - モデル別API仕様追加
- `project-007/ASSETS.md` - 推奨モデル方針追加
